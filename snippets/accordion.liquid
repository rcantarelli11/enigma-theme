{% liquid
  comment
    Renders an accordion widget.

    Required parameters:
      - items: { String } The individual accordion items. Each item should have been generated by 'accordion-item.liquid'.

    Optional parameters:
      - class: { String } Class to apply to the accordion-group
      - single_open: { Boolean } Whether to allow only a single item to be open at once.  Defaults to false.
      - attributes: { String } Custom attributes to apply to the accordion element.
      - skip_dependencies: { Boolean } false Do not include CSS and JS
  endcomment

  unless skip_dependencies
    echo 'component-accordion.css' | asset_url | stylesheet_tag
    render 'inline-scripts', script_name: 'accordion-group'
    render 'inline-scripts', script_name: 'accordion-item'
  endunless
%}

<accordion-group
  {%- if single_open %}
    data-single-open
  {%- endif -%}
  {% if class != blank %}
    class="{{ class }}"
  {% endif %}
  {%- if attributes != blank %}
    {{ attributes }}
  {%- endif -%}
>
  {{- items -}}
</accordion-group>
