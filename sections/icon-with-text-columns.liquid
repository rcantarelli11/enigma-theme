{%- liquid
  echo 'section-icon-with-text-columns.css' | asset_url | stylesheet_tag

  capture columns
    for block in section.blocks
      render 'icon-with-text-column', section: section, block: block
    endfor
  endcapture

  capture columns_wrap_class
    echo 'icon-with-text-columns__columns'
    echo ' icon-with-text-columns__columns--spacing-[[dcs]]' | replace: '[[dcs]]', section.settings.desktop_column_spacing
  endcapture
-%}

<div
  class="
    section
    icon-with-text-columns
    icon-with-text-columns--item-layout-desktop-{{ section.settings.icon_alignment_desktop }}
    icon-with-text-columns--item-layout-mobile-{{ section.settings.icon_alignment_mobile }}
    icon-with-text-columns--icon-color-{{ section.settings.icon_color }}
    icon-with-text-columns--mobile-layout-{{ section.settings.layout_mobile }}
  "
  data-section-id="{{ section.id }}"
  data-section-type="icon-with-text-columns"
  style="
    {% render 'settings-section-padding' %}
    {% render 'color-scheme-to-vars', color_scheme: section.settings.color_scheme %}
    --num-columns-desktop: {{ section.settings.desktop_columns_per_row }};
    --icon-width-desktop: {{section.settings.icon_width_desktop}}px;
    --icon-width-mobile: {{section.settings.icon_width_mobile}}px;
  "
>
  <div class="section-inner section-inner--width-{{ section.settings.width }}">
    {% if section.settings.layout_mobile == 'slider' %}
      {%- liquid
        echo 'component-scroll-slider-dots.css' | asset_url | stylesheet_tag

        capture slider_wrapper_classes
          echo columns_wrap_class
          echo ' icon-with-text-columns__slider'
        endcapture
      -%}

      <div class="section-slider-wrap scroll-slider-wrap">
        {% render 'scroll-slider',
          navigation_container: '.icon-with-text-columns',
          id: 'icon-with-text-columns',
          slider_wrapper_classes: slider_wrapper_classes,
          slider_items: columns,
          columns: 1,
          columns_above_720: section.settings.desktop_columns_per_row,
          gap: '0px',
          disable_above_720: true,
          full_width_below_720: false
        -%}

        {% render 'scroll-slider-page-dots', hide_below_720: false %}
      </div>
    {% else %}
      <div class="{{ columns_wrap_class }}">
        {{ columns }}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "t:sections.icon_with_text_columns.name",
  "tag": "section",
  "disabled_on": {
    "groups": [
      "header",
      "custom.overlay"
    ]
  },
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:shared.settings.color_scheme.label",
      "default": "scheme_1"
    },
    {
      "type": "select",
      "id": "icon_color",
      "label": "t:sections.icon_with_text_columns.settings.icon_color.label",
      "default": "accent",
      "options": [
        {
          "value": "accent",
          "label": "t:sections.icon_with_text_columns.settings.icon_color.options.accent"
        },
        {
          "value": "text",
          "label": "t:sections.icon_with_text_columns.settings.icon_color.options.text"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.icon_with_text_columns.settings.desktop__header.content"
    },
    {
      "type": "range",
      "id": "icon_width_desktop",
      "min": 12,
      "max": 75,
      "step": 1,
      "label": "t:sections.icon_with_text_columns.settings.icon_width_desktop.label",
      "default": 32
    },
    {
      "type": "select",
      "id": "icon_alignment_desktop",
      "label": "t:sections.icon_with_text_columns.settings.icon_alignment_desktop.label",
      "default": "above_center",
      "options": [
        {
          "value": "above_center",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_desktop.options.above_center"
        },
        {
          "value": "above_left",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_desktop.options.above_left"
        },
        {
          "value": "left_left",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_desktop.options.left_left"
        }
      ]
    },
    {
      "type": "select",
      "id": "desktop_columns_per_row",
      "label": "t:sections.icon_with_text_columns.settings.desktop_columns_per_row.label",
      "default": "4",
      "options": [
        {
          "value": "2",
          "label": "t:sections.icon_with_text_columns.settings.desktop_columns_per_row.options.2"
        },
        {
          "value": "3",
          "label": "t:sections.icon_with_text_columns.settings.desktop_columns_per_row.options.3"
        },
        {
          "value": "4",
          "label": "t:sections.icon_with_text_columns.settings.desktop_columns_per_row.options.4"
        },
        {
          "value": "5",
          "label": "t:sections.icon_with_text_columns.settings.desktop_columns_per_row.options.5"
        }
      ]
    },
    {
      "type": "select",
      "id": "desktop_column_spacing",
      "label": "t:sections.icon_with_text_columns.settings.desktop_column_spacing.label",
      "default": "medium",
      "options": [
        {
          "value": "small",
          "label": "t:sections.icon_with_text_columns.settings.desktop_column_spacing.options.small"
        },
        {
          "value": "medium",
          "label": "t:sections.icon_with_text_columns.settings.desktop_column_spacing.options.medium"
        },
        {
          "value": "large",
          "label": "t:sections.icon_with_text_columns.settings.desktop_column_spacing.options.large"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.icon_with_text_columns.settings.mobile__header.content"
    },
    {
      "type": "select",
      "id": "layout_mobile",
      "label": "t:sections.icon_with_text_columns.settings.layout_mobile.label",
      "default": "slider",
      "options": [
        {
          "value": "slider",
          "label": "t:sections.icon_with_text_columns.settings.layout_mobile.options.slider"
        },
        {
          "value": "stacked",
          "label": "t:sections.icon_with_text_columns.settings.layout_mobile.options.stacked"
        }
      ]
    },
    {
      "type": "range",
      "id": "icon_width_mobile",
      "min": 12,
      "max": 75,
      "step": 1,
      "label": "t:sections.icon_with_text_columns.settings.icon_width_mobile.label",
      "default": 32
    },
    {
      "type": "select",
      "id": "icon_alignment_mobile",
      "label": "t:sections.icon_with_text_columns.settings.icon_alignment_mobile.label",
      "default": "above_center",
      "options": [
        {
          "value": "above_center",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_mobile.options.above_center"
        },
        {
          "value": "above_left",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_mobile.options.above_left"
        },
        {
          "value": "left_left",
          "label": "t:sections.icon_with_text_columns.settings.icon_alignment_mobile.options.left_left"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:shared.settings.section_settings.header.content"
    },
    {
      "type": "select",
      "id": "width",
      "label": "t:shared.settings.section_settings.width.label",
      "options": [
        {
          "value": "narrow",
          "label": "t:shared.settings.section_settings.width.options.narrow"
        },
        {
          "value": "wide",
          "label": "t:shared.settings.section_settings.width.options.wide"
        },
        {
          "value": "page-width",
          "label": "t:shared.settings.section_settings.width.options.page_width"
        },
        {
          "value": "full-width-padded",
          "label": "t:shared.settings.section_settings.width.options.full_width_padded_simplified_language"
        }
      ],
      "info": "t:shared.settings.section_settings.width.info",
      "default": "page-width"
    },
    {
      "type": "range",
      "id": "top_padding",
      "label": "t:shared.settings.section_settings.top_padding.label",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "bottom_padding",
      "label": "t:shared.settings.section_settings.bottom_padding.label",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "t:sections.icon_with_text_columns.blocks.column.name",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "t:shared.settings.icon.label",
          "options": [
            {
              "value": "none",
              "label": "t:shared.settings.icon.option_none"
            },
            {
              "value": "clothing-dryer",
              "label": "t:shared.settings.icon.groups.clothing.options.dryer",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-measuring-tape",
              "label": "t:shared.settings.icon.groups.clothing.options.measuring_tape",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-hand-wash",
              "label": "t:shared.settings.icon.groups.clothing.options.hand_wash",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-hanger",
              "label": "t:shared.settings.icon.groups.clothing.options.hanger",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-iron",
              "label": "t:shared.settings.icon.groups.clothing.options.iron",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-ruler",
              "label": "t:shared.settings.icon.groups.clothing.options.ruler",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-t-shirt",
              "label": "t:shared.settings.icon.groups.clothing.options.t_shirt",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-wash",
              "label": "t:shared.settings.icon.groups.clothing.options.wash",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "clothing-washer",
              "label": "t:shared.settings.icon.groups.clothing.options.washer",
              "group": "t:shared.settings.icon.groups.clothing.label"
            },
            {
              "value": "communications-chat-bubble-1",
              "label": "t:shared.settings.icon.groups.communications.options.chat_bubble_1",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "communications-chat-bubble-2",
              "label": "t:shared.settings.icon.groups.communications.options.chat_bubble_2",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "communications-email",
              "label": "t:shared.settings.icon.groups.communications.options.email",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "communications-envelope",
              "label": "t:shared.settings.icon.groups.communications.options.envelope",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "communications-international-language",
              "label": "t:shared.settings.icon.groups.communications.options.international_language",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "communications-map-pin",
              "label": "t:shared.settings.icon.groups.communications.options.map_pin",
              "group": "t:shared.settings.icon.groups.communications.label"
            },
            {
              "value": "ecology-earth",
              "label": "t:shared.settings.icon.groups.ecology.options.earth",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "ecology-plant-1",
              "label": "t:shared.settings.icon.groups.ecology.options.plant_1",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "ecology-plant-2",
              "label": "t:shared.settings.icon.groups.ecology.options.plant_2",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "ecology-recycle",
              "label": "t:shared.settings.icon.groups.ecology.options.recycle",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "ecology-vegan-1",
              "label": "t:shared.settings.icon.groups.ecology.options.vegan_1",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "ecology-vegan-2",
              "label": "t:shared.settings.icon.groups.ecology.options.vegan_2",
              "group": "t:shared.settings.icon.groups.ecology.label"
            },
            {
              "value": "general-checkmark",
              "label": "t:shared.settings.icon.groups.general.options.checkmark",
              "group": "t:shared.settings.icon.groups.general.label"
            },
            {
              "value": "general-heart",
              "label": "t:shared.settings.icon.groups.general.options.heart",
              "group": "t:shared.settings.icon.groups.general.label"
            },
            {
              "value": "general-smile",
              "label": "t:shared.settings.icon.groups.general.options.smile",
              "group": "t:shared.settings.icon.groups.general.label"
            },
            {
              "value": "general-star",
              "label": "t:shared.settings.icon.groups.general.options.star",
              "group": "t:shared.settings.icon.groups.general.label"
            },
            {
              "value": "payment-security-credit-card",
              "label": "t:shared.settings.icon.groups.payment_security.options.credit_card",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "payment-security-padlock",
              "label": "t:shared.settings.icon.groups.payment_security.options.padlock",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "payment-security-shield",
              "label": "t:shared.settings.icon.groups.payment_security.options.shield",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "payment-security-shield-bordered",
              "label": "t:shared.settings.icon.groups.payment_security.options.shield_bordered",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "payment-security-shield-checkmark",
              "label": "t:shared.settings.icon.groups.payment_security.options.shield_checkmark",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "payment-security-shield-lock",
              "label": "t:shared.settings.icon.groups.payment_security.options.shield_lock",
              "group": "t:shared.settings.icon.groups.payment_security.label"
            },
            {
              "value": "shipping-delivery-airplane",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.airplane",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shipping-delivery-box",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.box",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shipping-delivery-paper-airplane",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.paper_airplane",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shipping-delivery-return",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.return",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shipping-delivery-return-package",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.return_package",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shipping-delivery-truck",
              "label": "t:shared.settings.icon.groups.shipping_delivery.options.truck",
              "group": "t:shared.settings.icon.groups.shipping_delivery.label"
            },
            {
              "value": "shopping-coupon",
              "label": "t:shared.settings.icon.groups.shopping.options.coupon",
              "group": "t:shared.settings.icon.groups.shopping.label"
            },
            {
              "value": "shopping-discount",
              "label": "t:shared.settings.icon.groups.shopping.options.discount",
              "group": "t:shared.settings.icon.groups.shopping.label"
            },
            {
              "value": "shopping-gift",
              "label": "t:shared.settings.icon.groups.shopping.options.gift",
              "group": "t:shared.settings.icon.groups.shopping.label"
            },
            {
              "value": "shopping-gift-card",
              "label": "t:shared.settings.icon.groups.shopping.options.gift_card",
              "group": "t:shared.settings.icon.groups.shopping.label"
            },
            {
              "value": "shopping-storefront",
              "label": "t:shared.settings.icon.groups.shopping.options.storefront",
              "group": "t:shared.settings.icon.groups.shopping.label"
            }
          ],
          "default": "ecology-earth"
        },
        {
          "type": "image_picker",
          "id": "custom_icon_image",
          "label": "t:shared.settings.custom_icon_image.label"
        },
        {
          "id": "link",
          "type": "url",
          "label": "t:sections.icon_with_text_columns.blocks.column.settings.link.label"
        },
        {
          "type": "header",
          "content": "t:sections.icon_with_text_columns.blocks.column.settings.text__header.content"
        },
        {
          "id": "heading",
          "type": "text",
          "label": "t:sections.icon_with_text_columns.blocks.column.settings.heading.label",
          "default": "t:sections.icon_with_text_columns.blocks.column.settings.heading.default"
        },
        {
          "id": "text",
          "type": "inline_richtext",
          "label": "t:sections.icon_with_text_columns.blocks.column.settings.text.label",
          "default": "t:sections.icon_with_text_columns.blocks.column.settings.text.default"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.icon_with_text_columns.presets.name",
      "blocks": [
        {
          "type": "column",
          "settings": {
            "icon": "shipping-delivery-truck",
            "heading": "Fast Delivery"
          }
        },
        {
          "type": "column",
          "settings": {
            "icon": "payment-security-shield-checkmark",
            "heading": "Secure Payments"
          }
        },
        {
          "type": "column",
          "settings": {
            "icon": "general-smile",
            "heading": "Customer Service"
          }
        },
        {
          "type": "column",
          "settings": {
            "icon": "ecology-earth",
            "heading": "Worldwide Shipping"
          }
        }
      ]
    }
  ]
}
{% endschema %}
